const int motion_pin = 3;
const int button = 2;
const int led = 4;

bool buttonStatus = false;

void setup() {
  Serial.begin(9600);
  pinMode(motion_pin, INPUT);
  pinMode(button, INPUT_PULLUP); 
  pinMode(led, OUTPUT);

  attachInterrupt(digitalPinToInterrupt(button), Interrupt, CHANGE);
}

void loop() {
  Interrupt();
  if (!buttonStatus) {
    
    int motionDetected = digitalRead(motion_pin);
    
    if (motionDetected == HIGH) {
      Serial.println("MOTION DETECTED");
      digitalWrite(led, HIGH);
    } else {
      Serial.println("MOTION NOT DETECTED");
      digitalWrite(led, LOW);
    }
    delay(500);
  }
}


void Interrupt() {
 if (digitalRead(button) == LOW) { 
    digitalWrite(led, HIGH);
    Serial.println("INTERRUPT");
  } else {
    digitalWrite(led, LOW); 
    Serial.println("NO INTERRUPT :D");
  }
  delay(100);
}
